"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[809],{6492:(e,s,t)=>{t.d(s,{Ay:()=>m});var a=t(7051),c=t(3986),n=t(5043),i=t(5899),l=t(5475),r=t(8155),o=t(579);const d=["children","onMarkerClick"],h=e=>{const{children:s,onMarkerClick:t}=e,n=(0,c.A)(e,d),[l,r]=(0,i.vH)();return(0,o.jsx)(i.J8,(0,a.A)((0,a.A)({onClick:()=>{r&&t(r)},ref:l},n),{},{children:s}))},m=()=>{(0,n.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/markers"),{signal:e.signal});if(!t.ok)throw new Error("Pas de connexion r\xe9seau");const a=await t.json();s(a)}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;f("Impossible de charger les POI. Veuillez r\xe9essayer plus tard.")}}})(),()=>{e.abort()}}),[]);const[e,s]=(0,n.useState)([]),[t,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(null),[m,x]=(0,n.useState)(null),[g,u]=(0,n.useState)(null),[j,p]=(0,n.useState)(null),[k,N]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[w,f]=(0,n.useState)(null),C=(0,n.useCallback)(((e,s,c,n,i)=>{a(c),x(s),u(e),d(n),i&&p(i),N(c!==t||(e=>!e))}),[t]),y=(0,n.useCallback)((()=>{a(null),p(null),N(!1),d(null),x(null),u(null)}),[]),I=(0,n.useCallback)((()=>N(!1)),[]),[P,F]=n.useState(!0),O=()=>{F(!P)},[S,E]=n.useState(!0),A=()=>{E(!S)},[M,G]=n.useState(!0),T=()=>{G(!M)},[R,z]=n.useState(!0),H=()=>{z(!R)},[D,B]=n.useState(!0),_=()=>{B(!D)},[q,U]=n.useState(!0),L=()=>{U(!q)},[V,Z]=n.useState(!0),J=()=>{Z(!V)};return(0,o.jsx)(i.c4,{apiKey:"AIzaSyD0RVToXOJHikSdcRslGi2b2fx0UTZFtG0",libraries:["marker"],children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"backgroundMap",style:{overflow:"hidden"},children:[(0,o.jsx)("div",{className:"btn-group BurgerSituationMap","data-toggle":"buttons-checkbox",children:(0,o.jsx)("button",{type:"button",className:"BurgerProg btn btn-default ",onClick:()=>{v(!b)},children:(0,o.jsx)("img",{src:"".concat("","/assets/parametres-curseurs.png"),alt:"burger"})})}),(0,o.jsxs)("div",{className:"Gmap",children:[(0,o.jsxs)("div",{className:"  ".concat(b?"d-block":"d-none"," "),children:[(0,o.jsx)("div",{className:"d-none d-lg-block",children:(0,o.jsxs)("div",{className:"ico",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:O}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:S,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"}),(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:R,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"}),(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:V,onChange:J}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})}),(0,o.jsx)("div",{className:"d-block d-lg-none",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:O}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:S,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:R,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:V,onChange:J}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})]})})]}),w&&(0,o.jsx)("div",{style:{color:"red",textAlign:"center",margin:"1em"},children:w}),(0,o.jsxs)(i.T5,{mapId:"d17a67bf932afd78",maxZoom:20,minZoom:10,defaultZoom:15.477,defaultCenter:{lat:48.64627130950389,lng:1.8125529133067797},gestureHandling:"auto",onClick:y,clickableIcons:!1,disableDefaultUI:!0,children:[e.map((e=>{let{id:s,latitude:t,longitude:a,type:c,zIndex:l,details:r,name:d}=e;return"scene"===c&&P?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:45,height:45,alt:"scene"})})}):"bar"===c&&S?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:40,height:40,alt:"bar"})})}):"parking"===c&&M?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:30,height:30,alt:"parking"})})}):"door"===c&&R?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:30,height:30,alt:"exit"})})}):"shop"===c&&D?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:30,height:30,alt:"shop"})})}):"wc"===c&&q?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:30,height:30,alt:"wc"})})}):"camping"===c&&V?(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(a)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:30,height:30,alt:"wc"})})}):null})),k&&j&&"scene"===c&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:m}),(0,o.jsx)(l.N_,{to:"/Programmation",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"Voir le programme"})})]}),k&&j&&("camping"===c||"parking"===c||"door"===c)&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:m}),(0,o.jsx)(l.N_,{to:"/Informations",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"\u2039\u2039Infos\u203a\u203a"})})]}),k&&j&&("bar"===c||"wc"===c||"shop"===c)&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:m})]})]})]})]})})})}},8382:(e,s,t)=>{t.d(s,{A:()=>c});var a=t(579);const c=function(){return(0,a.jsx)("div",{className:"scroll-to-top-button ",children:(0,a.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,a.jsx)("div",{className:"HautDePage",children:(0,a.jsx)("img",{src:"".concat("","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache",width:32,height:32})}),(0,a.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}},9809:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(5043),c=t(8914),n=t(579);function i(){const[e,s]=(0,a.useState)([]),[t,i]=(0,a.useState)(null),{customer:l,isAuthenticated:r}=(0,a.useContext)(c.c);(0,a.useEffect)((()=>{const e=new AbortController,t=document.getElementById("preload-hero");t&&t.remove();return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!t.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const a=await t.json();s(a)}catch(t){if("AbortError"===t.name)return;i("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const o=e.filter((e=>r()?e.style===((null===l||void 0===l?void 0:l.style)||"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule):"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule)).map((e=>(0,n.jsx)("li",{className:"listCard mt-2",children:(0,n.jsx)("div",{className:"card cardh",children:(0,n.jsxs)("div",{className:"row g-0",children:[(0,n.jsx)("div",{className:"col-md-4 ",children:(0,n.jsx)("img",{src:e.fullImageUrl,width:"1600",height:"900",className:"img-fluid rounded",alt:e.name,fetchPriority:"high",loading:"eager",decoding:"async",style:{aspectRatio:"16 / 9",objectFit:"cover",display:"block",backgroundColor:"var(--gris)"}})}),(0,n.jsx)("div",{className:"col-md-8 ",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h1",{className:"card-title",children:e.name}),(0,n.jsx)("p",{className:"card-text",children:e.schedule}),(0,n.jsx)("p",{className:"card-text",children:(0,n.jsx)("small",{className:"text-body-secondary ",children:e.location})})]})})]})})},e.id)));return(0,n.jsx)("div",{className:"row  g-0 ",children:(0,n.jsxs)("div",{className:"pb-0 mt-8 ","data-testid":"concertHome",children:[t&&(0,n.jsx)("p",{style:{color:"red"},children:t}),0===e.length?(0,n.jsx)("ul",{className:"concertList",children:[...Array(3)].map(((e,s)=>(0,n.jsx)("li",{className:"listCard mt-2",children:(0,n.jsx)("div",{className:"card cardh skeleton-card",children:(0,n.jsxs)("div",{className:"row g-0",children:[(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsx)("div",{className:"skeleton-img"})}),(0,n.jsx)("div",{className:"col-md-8",children:(0,n.jsxs)("div",{className:"skeleton-text",children:[(0,n.jsx)("div",{className:"skeleton-line title"}),(0,n.jsx)("div",{className:"skeleton-line"}),(0,n.jsx)("div",{className:"skeleton-line short"})]})})]})})},s)))}):(0,n.jsx)("ul",{className:"concertList",children:o})]})})}var l=t(6492),r=t(7070);function o(){const[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=new AbortController;(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/alerts"),{signal:e.signal}),a=await t.json();s(a)}catch(t){"AbortError"===t.name?console.error("Requ\xeate des datas d'Alert annul\xe9e"):console.error("Erreur lors de la requ\xeate Alert:",t)}})(),c(!0)}),[]);const i=e.map((e=>(0,n.jsx)("div",{className:"h-20 sm:h-20 xl:h-20 2xl:h-20",children:(0,n.jsxs)(r.FN,{slide:!1,children:[(0,n.jsx)("div",{className:"flex h-full items-top justify-center bg-red-600 dark:bg-gray-700 dark:text-white text-yellow-200 text-2xl animate-pulse",children:e.message1}),(0,n.jsx)("div",{className:"flex h-full items-top justify-center bg-amber-400 dark:bg-gray-700 dark:text-white text-red-600 text-2xl animate-pulse",children:e.message2})]})})));if(t)return(0,n.jsx)(n.Fragment,{children:i})}var d=t(5475),h=t(3538),m=t(8382);const x=function(){const{customer:e,isAuthenticated:s}=(0,a.useContext)(c.c);function t(){return(0,n.jsx)("div",{className:"row mb-20 mt-20",children:(0,n.jsx)("div",{className:"boutonBilletHome ",children:(0,n.jsx)(d.N_,{to:"/Billetterie",children:(0,n.jsxs)(r.$n,{size:"xl",gradientDuoTone:"redToYellow",children:[(0,n.jsx)(h.I7w,{className:"mr-2 h-10 w-10"}),"Billetterie"]})})})})}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"background ",style:{overflow:"hidden"},children:[(0,n.jsx)("div",{className:"row",children:(0,n.jsx)(o,{})}),(0,n.jsx)("div",{className:"row",children:s()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("h1",{className:"titleUser pt-3",children:["Bonjour ",(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}),(0,n.jsx)("h2",{children:" les concerts suivants devraient vous convenir:"})]}):(0,n.jsx)("h1",{className:"title pt-3",children:"NATION SOUNDS"})}),(0,n.jsx)(d.N_,{to:"/Programmation",children:(0,n.jsx)("div",{className:"ConcertHomePage ",width:100,height:300,children:(0,n.jsx)(i,{})})}),(0,n.jsx)(t,{}),(0,n.jsxs)(d.N_,{to:"/Plan",children:[(0,n.jsx)("div",{className:"d-none d-lg-block GmapMini  col-8 offset-2  ",children:(0,n.jsx)(l.Ay,{})}),(0,n.jsx)("div",{className:"d-block d-lg-none GmapMiniSmall  col-10 offset-1  ",children:(0,n.jsx)(l.Ay,{})})]})]}),(0,n.jsx)("div",{className:"marginMap",children:(0,n.jsx)(m.A,{})})]})}}}]);
//# sourceMappingURL=809.66e0491b.chunk.js.map