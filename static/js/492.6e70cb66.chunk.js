"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[492],{6492:(e,s,t)=>{t.r(s),t.d(s,{AdvancedMarkerWithRef:()=>p,apiKey:()=>d,apiURL:()=>g,default:()=>x});var n=t(7051),c=t(3986),a=t(5043),i=t(5899),l=t(5475),r=t(8155),o=t(579);const h=["children","onMarkerClick"],d="AIzaSyD0RVToXOJHikSdcRslGi2b2fx0UTZFtG0",g="https://concertslives.store",p=e=>{const{children:s,onMarkerClick:t}=e,a=(0,c.A)(e,h),[l,r]=(0,i.vH)();return(0,o.jsx)(i.J8,(0,n.A)((0,n.A)({onClick:()=>{r&&t(r)},ref:l},a),{},{children:s}))},x=()=>{(0,a.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat(g,"/api/markers"),{signal:e.signal});if(!t.ok)throw new Error("Pas de connexion r\xe9seau");const n=await t.json();s(n)}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;f("Impossible de charger les POI. Veuillez r\xe9essayer plus tard.")}}})(),()=>{e.abort()}}),[]);const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(null),[c,h]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[k,u]=(0,a.useState)(null),[j,b]=(0,a.useState)(null),[C,I]=(0,a.useState)(!1),[w,P]=(0,a.useState)(!1),[N,f]=(0,a.useState)(null),F=(0,a.useCallback)(((e,s,c,a,i)=>{n(c),m(s),u(e),h(a),i&&b(i),I(c!==t||(e=>!e))}),[t]),O=(0,a.useCallback)((()=>{n(null),b(null),I(!1),h(null),m(null),u(null)}),[]),y=(0,a.useCallback)((()=>I(!1)),[]),[v,S]=a.useState(!0),E=()=>{S(!v)},[M,R]=a.useState(!0),G=()=>{R(!M)},[z,A]=a.useState(!0),T=()=>{A(!z)},[D,Z]=a.useState(!0),_=()=>{Z(!D)},[q,H]=a.useState(!0),L=()=>{H(!q)},[U,V]=a.useState(!0),B=()=>{V(!U)},[J,K]=a.useState(!0),W=()=>{K(!J)};return(0,o.jsx)(i.c4,{apiKey:d,libraries:["marker"],children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"backgroundMap",style:{overflow:"hidden"},children:[(0,o.jsx)("div",{className:"btn-group BurgerSituationMap","data-toggle":"buttons-checkbox",children:(0,o.jsx)("button",{type:"button",className:"BurgerProg btn btn-default ",onClick:()=>{P(!w)},children:(0,o.jsx)("img",{src:"".concat("","/assets/parametres-curseurs.png"),alt:"burger"})})}),(0,o.jsxs)("div",{className:"Gmap",children:[(0,o.jsxs)("div",{className:"  ".concat(w?"d-block":"d-none"," "),children:[(0,o.jsx)("div",{className:"d-none d-lg-block",children:(0,o.jsxs)("div",{className:"ico",children:[(0,o.jsx)("input",{type:"checkbox",checked:v,onChange:E}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:G}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"}),(0,o.jsx)("input",{type:"checkbox",checked:z,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:U,onChange:B}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:J,onChange:W}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})}),(0,o.jsx)("div",{className:"d-block d-lg-none",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:v,onChange:E}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:G}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:z,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:U,onChange:B}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:J,onChange:W}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})]})})]}),N&&(0,o.jsx)("div",{style:{color:"red",textAlign:"center",margin:"1em"},children:N}),(0,o.jsxs)(i.T5,{mapId:"d17a67bf932afd78",maxZoom:20,minZoom:10,defaultZoom:15.477,defaultCenter:{lat:48.64627130950389,lng:1.8125529133067797},gestureHandling:"auto",onClick:O,clickableIcons:!1,disableDefaultUI:!0,children:[e.map((e=>{let{id:s,latitude:t,longitude:n,type:c,zIndex:l,details:r,name:h}=e;return"scene"===c&&v?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:45,height:45,alt:"scene"})})}):"bar"===c&&M?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:40,height:40,alt:"bar"})})}):"parking"===c&&z?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:30,height:30,alt:"parking"})})}):"door"===c&&D?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:30,height:30,alt:"exit"})})}):"shop"===c&&q?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:30,height:30,alt:"shop"})})}):"wc"===c&&U?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:30,height:30,alt:"wc"})})}):"camping"===c&&J?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(p,{onMarkerClick:e=>F(h,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:30,height:30,alt:"wc"})})}):null})),C&&j&&"scene"===c&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:k}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Programmation",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"Voir le programme"})})]}),C&&j&&("camping"===c||"parking"===c||"door"===c)&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:k}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Informations",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"\u2039\u2039Infos\u203a\u203a"})})]}),C&&j&&("bar"===c||"wc"===c||"shop"===c)&&(0,o.jsxs)(i.Fu,{anchor:j,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:k}),(0,o.jsx)("p",{children:x})]})]})]})]})})})}}}]);
//# sourceMappingURL=492.6e70cb66.chunk.js.map