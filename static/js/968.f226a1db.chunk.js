"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[968],{968:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(5043),n=s(7051),l=s(9722),r=s(2462),i=s(8155),o=s(3216),c=s(5475),m=s(722),d=s(579);const h=function(){const e=(0,o.Zp)(),[a,s]=(0,t.useState)({lastname:"",firstname:"",email:"",password:"",style:"",streetnumber:"",street:"",postalcode:"",city:"",country:"",phone:""}),[h,u]=(0,t.useState)([]),[p,x]=(0,t.useState)(!0),[j,b]=(0,t.useState)(null);function f(e){const t=(0,n.A)({},a);t[e.target.id]=e.target.value,s(t)}return(0,t.useEffect)((()=>{!async function(){try{const e=await fetch("https://restcountries.com/v3.1/all?fields=name,cca2"),a=(await e.json()).map((e=>({code:e.cca2,name:e.name.common}))).sort(((e,a)=>e.name.localeCompare(a.name,"fr")));u(a)}catch(e){console.error("Erreur de chargement des pays :",e)}finally{x(!1)}}()}),[]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"contacth1",children:(0,d.jsx)("h1",{children:"S'inscrire "})}),(0,d.jsx)("div",{children:(0,d.jsx)("form",{onSubmit:s=>function(s){s.preventDefault(),l.A.post("".concat("https://concertslives.store","/api/customers"),{lastname:a.lastname,firstname:a.firstname,email:a.email,password:a.password,style:a.style,streetnumber:a.streetnumber,street:a.street,postalcode:a.postalcode,city:a.city,country:a.country,phone:a.phone},{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((a=>{e("/Registered")})).catch((e=>{e.response&&e.response.data?alert(e.response.data.error||"Une erreur est survenue"):alert("Erreur serveur")}))}(s),children:(0,d.jsxs)(r.A.Group,{className:"pb-5",children:[(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"lastname",children:"Nom"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"lastname",name:"lastname",value:a.lastname,type:"text",maxLength:30,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"firstname",children:"Pr\xe9nom"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"firstname",name:"firstname",value:a.firstname,type:"text",maxLength:30,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"email",children:"email"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"email",name:"email",value:a.email,type:"email",maxLength:30,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"firstname",children:"Mot de passe"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"password",name:"password",value:a.password,type:"text",maxLength:50,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"style",children:"Style de musique pr\xe9f\xe9r\xe9"}),(0,d.jsxs)(r.A.Select,{className:"field",onChange:f,id:"style",name:"style",value:a.style,maxLength:20,required:!0,children:[(0,d.jsx)("option",{children:"Choisir..."}),(0,d.jsx)("option",{value:"\xc9lectro",children:"\xc9lectro"}),(0,d.jsx)("option",{value:"Pop",children:"Pop"}),(0,d.jsx)("option",{value:"Rock",children:"Rock"}),(0,d.jsx)("option",{value:"Hip-hop / Rap",children:"Hip-hop / Rap"}),(0,d.jsx)("option",{value:"Reggae",children:"Reggae"})]}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"phoneNumber",children:"T\xe9l\xe9phone"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"phone",name:"phone",value:a.phone,type:"text",maxLength:25,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"streetNumber",children:"Num\xe9ro de rue"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"streetnumber",name:"streetnumber",value:a.streetnumber,type:"text",maxLength:10,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"street",children:"Voie"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"street",name:"street",value:a.street,type:"text",maxLength:50,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"postalCode",children:"Code postal"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"postalcode",name:"postalcode",value:a.postalcode,type:"text",maxLength:10,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"city",children:"Ville"}),(0,d.jsx)(r.A.Control,{className:"field",onChange:f,id:"city",name:"city",value:a.city,type:"text",maxLength:10,required:!0}),(0,d.jsx)(r.A.Label,{className:"label",htmlFor:"country",children:"Pays"}),(0,d.jsxs)(r.A.Select,{className:"field",onChange:f,id:"country",name:"country",value:a.country,maxLength:10,required:!0,children:[(0,d.jsx)("option",{value:"",children:"\u2014 Choisissez un pays \u2014"}),p&&(0,d.jsx)("option",{disabled:!0,children:"Chargement en cours\u2026"}),!p&&h.map((e=>(0,d.jsx)("option",{value:e.name,children:e.name},e.code)))]}),(0,d.jsx)("div",{children:(0,d.jsx)(r.A.Check,{className:"checkRGPD ",label:"En cochant cette case, je consens au traitement de mes donn\xe9es personnelles afin de permettre \xe0 LiveEvents de me r\xe9pondre de la mani\xe8re la plus pertinente et ce, conform\xe9ment \xe0 la politique de confidentialit\xe9 dont j\u2019ai pris connaissance et que j\u2019accepte sans r\xe9serve.",id:"checkBox",required:!0})}),(0,d.jsx)(c.N_,{to:"/Confidential",children:(0,d.jsx)(i.A,{className:"checkRGPDLink",variant:"link",children:"Lire la politique de confidentialit\xe9"})}),(0,d.jsx)(m.A,{sitekey:"6LfQ-NwqAAAAAPQ7zlhsVFa-88bdAJT7v0QwOWsy",onChange:b}),(0,d.jsx)("div",{className:"submitbutton ",children:(0,d.jsx)(i.A,{variant:"secondary",size:"lg",className:"boutonSubmit ",type:"submit",disabled:!j,children:"S'inscrire"})})]})})})]})};const u=function(){return(0,d.jsx)("div",{className:"contact",children:(0,d.jsx)(h,{})})}}}]);
//# sourceMappingURL=968.f226a1db.chunk.js.map