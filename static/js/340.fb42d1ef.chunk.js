"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[340],{8382:(e,s,l)=>{l.d(s,{A:()=>c});var a=l(579);const c=function(){return(0,a.jsx)("div",{className:"scroll-to-top-button ",children:(0,a.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,a.jsx)("div",{className:"HautDePage",children:(0,a.jsx)("img",{src:"".concat("","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache",width:32,height:32})}),(0,a.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}},9340:(e,s,l)=>{l.r(s),l.d(s,{default:()=>d});var a=l(5043),c=l(5475),t=l(7070),r=l(8382),n=l(579);const i=()=>{const e=l(3536),[s,i]=(0,a.useState)([]),[d,o]=(0,a.useState)([]),[h,u]=(0,a.useState)([]),[x,m]=a.useState(!1),[j,g]=(0,a.useState)(!1),[p,v]=(0,a.useState)(!0),[y,b]=(0,a.useState)(null),f=d.sort((function(e,s){return e.schedule<s.schedule?-1:e.schedule>s.schedule?1:0})).sort((function(e,s){return e.day<s.day?-1:e.day>s.day?1:0})),k=e=>{if(e.target.checked){const l=s.filter((s=>s.day===e.target.value));u(l),o(l),B(),m(!0)}},N=e.uniqBy(s,"day").sort((function(e,s){return e.day<s.day?-1:e.day>s.day?1:0})),F=e.uniqBy(h,"schedule").sort((function(e,s){return e.schedule<s.schedule?-1:e.schedule>s.schedule?1:0})),w=e.uniqBy(h,"location"),C=e.uniqBy(h,"style"),B=()=>{document.getElementsByName("radio").forEach((e=>e.checked=!1))},P=e=>{if(e.target.checked){const s=h.filter((s=>s.schedule===e.target.value||s.location===e.target.value||s.style===e.target.value));o(s)}};(0,a.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const s=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!s.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const l=await s.json();i(l),o(l)}catch(s){if("AbortError"===s.name)return;b("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const S=e=>{let{id:s,name:l,style:a,location:t,schedule:r,day:i,fullImageUrl:d,details:o,details2:h}=e;return(0,n.jsx)(c.N_,{to:"/Programmation/ProgrammeDetails",state:{id:s,name:l,style:a,location:t,schedule:r,day:i,fullImageUrl:d,details:o,details2:h},children:(0,n.jsx)("div",{class:"row card cardh mb-3 mt-3",children:(0,n.jsxs)("div",{class:"row g-0",children:[(0,n.jsx)("div",{class:"col-md-4 ",children:(0,n.jsx)("img",{src:d,class:"img-fluid rounded",alt:l})}),(0,n.jsx)("div",{class:"col-md-8 ",children:(0,n.jsxs)("div",{class:"card-body ",children:[(0,n.jsx)("h1",{class:"card-title",children:l}),(0,n.jsx)("p",{class:"card-text",children:a}),(0,n.jsx)("p",{class:"card-text",children:i}),(0,n.jsx)("p",{class:"card-text",children:r}),(0,n.jsx)("p",{class:"card-text",children:(0,n.jsx)("small",{class:"text-body-secondary ",children:t})})]})})]})})})},E=e=>{let{concerts:s}=e;return(0,n.jsx)("div",{class:"  ".concat(p?"d-block":"d-none"," "),children:(0,n.jsx)("div",{className:"row  g-0 kardProg",children:(0,n.jsxs)("div",{className:"cardProg pb-0",children:[y&&(0,n.jsx)("p",{style:{color:"red"},children:y}),s.map((e=>(0,n.jsx)(S,{name:e.name,style:e.style,location:e.location,day:e.day,schedule:e.schedule,fullImageUrl:e.fullImageUrl,details:e.details,details2:e.details2})))]})})})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"fullpageProg",children:[(0,n.jsx)("div",{children:(0,n.jsx)("div",{class:"btn-group BurgerSituation  ","data-toggle":"buttons-checkbox",children:(0,n.jsxs)("button",{type:"button",class:"BurgerProg btn btn-default ",onClick:()=>{g(!j),v(!p)},children:[(0,n.jsx)("h2",{className:"h2BurgerProg",children:"Filtres"}),(0,n.jsx)("img",{src:"".concat("","/assets/parametres-curseurs.png"),alt:"curseur"})]})})}),(0,n.jsxs)("div",{class:"  ".concat(j?"d-block":"d-none"," "),children:[(0,n.jsxs)("div",{className:"menuFilter",children:[(0,n.jsx)("h2",{className:"titleFilter ",children:"Choisir le jour:"}),N.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"listCheck",children:[(0,n.jsx)("input",{className:"checkBox",class:"checkBox",type:"radio",value:e.day,name:"radioDay",onClick:k}),(0,n.jsx)("label",{children:e.day})]})})})))]}),(0,n.jsx)("div",{class:"".concat(x?"d-block":"d-none"," "),children:(0,n.jsxs)("div",{className:"menuFilter",children:[(0,n.jsx)("h2",{className:"titleFilter",children:"Filtrer par horaire:"}),F.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"listCheck",children:[(0,n.jsx)("input",{className:"checkBox",type:"radio",value:e.schedule,name:"radio",onChange:P}),(0,n.jsx)("label",{children:e.schedule})]})})}))),(0,n.jsx)("h2",{className:"titleFilter",children:"Filtrer par style:"}),C.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"listCheck",children:[(0,n.jsx)("input",{className:"checkBox",type:"radio",value:e.style,name:"radio",onChange:P}),(0,n.jsx)("label",{children:e.style})]})})}))),(0,n.jsx)("h2",{className:"titleFilter",children:"Filtrer par sc\xe8ne:"}),w.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:"listCheck",children:[(0,n.jsx)("input",{className:"checkBox",type:"radio",value:e.location,name:"radio",onChange:P}),(0,n.jsx)("label",{children:e.location})]})})})))]})}),(0,n.jsxs)("div",{className:"boutonLegend",children:[(0,n.jsx)(t.$n,{color:"failure",className:"boutonFilterErase",onClick:()=>{document.querySelectorAll(".checkBox").forEach((e=>e.checked=!1)),o(s),m(!1),window.scrollTo({top:0,behavior:"smooth"})},children:"Effacer les filtres"}),(0,n.jsx)(t.$n,{color:"blue",className:"boutonFilterResult",onClick:()=>{v(!0),g(!1),window.scrollTo({top:0,behavior:"smooth"})},children:"Voir les r\xe9sultats"})]})]}),(0,n.jsxs)("div",{class:"  ".concat(p?"d-block":"d-none"," "),children:[(0,n.jsx)("div",{className:"kard pb-0 mt-8 ","data-testId":"concertHome",children:(0,n.jsx)(E,{concerts:f})}),(0,n.jsx)("div",{className:"retour",children:(0,n.jsx)(r.A,{})})]})]})})};const d=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"contacth1",children:(0,n.jsx)("h1",{children:" Programmation "})}),(0,n.jsx)("div",{className:"fullPage",children:(0,n.jsx)(i,{})})]})}}}]);
//# sourceMappingURL=340.fb42d1ef.chunk.js.map