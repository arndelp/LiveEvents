"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[284],{5284:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var c=t(5043),n=t(8914);var a=t(579);function i(){const[e,s]=(0,c.useState)([]),[t,i]=(0,c.useState)(null),{customer:l,isAuthenticated:r}=(0,c.useContext)(n.c);(0,c.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!t.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const c=await t.json();s(c)}catch(t){if("AbortError"===t.name)return;i("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const o=e.filter((e=>r()?e.style===((null===l||void 0===l?void 0:l.style)||"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule):"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule)).map((e=>{const{src:s,srcSet:t,sizes:c}=function(e){const s=e.includes("?")?"".concat(e,"&w=400"):"".concat(e,"?w=400"),t=e.includes("?")?"".concat(e,"&w=800"):"".concat(e,"?w=800"),c=e.includes("?")?"".concat(e,"&w=1600"):"".concat(e,"?w=1600");return{src:t,srcSet:"".concat(s," 400w, ").concat(t," 800w, ").concat(c," 1600w"),sizes:"(max-width: 600px) 100vw, 50vw"}}(e.fullImageUrl);return(0,a.jsx)("li",{className:"listCard mt-2",children:(0,a.jsx)("div",{className:"card cardh",children:(0,a.jsxs)("div",{className:"row g-0",children:[(0,a.jsx)("div",{className:"col-md-4 ",children:(0,a.jsx)("img",{src:s,srcSet:t,sizes:c,className:"img-fluid rounded",alt:e.name,loading:"lazy"})}),(0,a.jsx)("div",{className:"col-md-8 ",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title",children:e.name}),(0,a.jsx)("p",{className:"card-text pb-2",children:e.schedule}),(0,a.jsx)("p",{className:"card-text",children:(0,a.jsx)("small",{className:"text-body-secondary ",children:e.location})})]})})]})})},e.id)}));return(0,a.jsx)("div",{className:"row  g-0 ",children:(0,a.jsxs)("div",{className:"pb-0 mt-8 ","data-testid":"concertHome",children:[t&&(0,a.jsx)("p",{style:{color:"red"},children:t}),(0,a.jsx)("ul",{children:o})]})})}var l=t(6492),r=t(7070);function o(){const[e,s]=(0,c.useState)([]),[t,n]=(0,c.useState)(!1);(0,c.useEffect)((()=>{const e=new AbortController;(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/alerts"),{signal:e.signal}),c=await t.json();s(c)}catch(t){"AbortError"===t.name?console.error("Requ\xeate des datas d'Alert annul\xe9e"):console.error("Erreur lors de la requ\xeate Alert:",t)}})(),n(!0)}),[]);const i=e.map((e=>(0,a.jsx)("div",{className:"h-20 sm:h-20 xl:h-20 2xl:h-20",children:(0,a.jsxs)(r.FN,{slide:!1,children:[(0,a.jsx)("div",{className:"flex h-full items-top justify-center bg-red-600 dark:bg-gray-700 dark:text-white text-yellow-200 text-2xl animate-pulse",children:e.message1}),(0,a.jsx)("div",{className:"flex h-full items-top justify-center bg-amber-400 dark:bg-gray-700 dark:text-white text-red-600 text-2xl animate-pulse",children:e.message2})]})})));if(t)return(0,a.jsx)(a.Fragment,{children:i})}var d=t(5475),h=t(3538),x=t(8382);const m=function(){const{customer:e,isAuthenticated:s}=(0,c.useContext)(n.c);function t(){return(0,a.jsx)("div",{className:"row mb-20 mt-20",children:(0,a.jsx)("div",{className:"boutonBilletHome ",children:(0,a.jsx)(d.N_,{to:"/Billetterie",children:(0,a.jsxs)(r.$n,{size:"xl",gradientDuoTone:"redToYellow",children:[(0,a.jsx)(h.I7w,{className:"mr-2 h-10 w-10"}),"Billetterie"]})})})})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"background ",style:{overflow:"hidden"},children:[(0,a.jsx)("div",{className:"row",children:(0,a.jsx)(o,{})}),(0,a.jsx)("div",{className:"row",children:s()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{className:"titleUser pt-3",children:["Bonjour ",(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}),(0,a.jsx)("h2",{children:" les concerts suivants devraient vous convenir:"})]}):(0,a.jsx)("h1",{className:"title pt-3",children:"NATION SOUNDS"})}),(0,a.jsx)(d.N_,{to:"/Programmation",children:(0,a.jsx)("div",{className:"ConcertHomePage ",children:(0,a.jsx)(i,{})})}),(0,a.jsx)(t,{}),(0,a.jsxs)(d.N_,{to:"/Plan",children:[(0,a.jsx)("div",{className:"d-none d-lg-block GmapMini  col-8 offset-2  ",children:(0,a.jsx)(l.Ay,{})}),(0,a.jsx)("div",{className:"d-block d-lg-none GmapMiniSmall  col-10 offset-1  ",children:(0,a.jsx)(l.Ay,{})})]})]}),(0,a.jsx)("div",{className:"marginMap",children:(0,a.jsx)(x.A,{})})]})}},6492:(e,s,t)=>{t.d(s,{Ay:()=>x});var c=t(7051),n=t(3986),a=t(5043),i=t(5899),l=t(5475),r=t(8155),o=t(579);const d=["children","onMarkerClick"],h=e=>{const{children:s,onMarkerClick:t}=e,a=(0,n.A)(e,d),[l,r]=(0,i.vH)();return(0,o.jsx)(i.J8,(0,c.A)((0,c.A)({onClick:()=>{r&&t(r)},ref:l},a),{},{children:s}))},x=()=>{(0,a.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/markers"),{signal:e.signal});if(!t.ok)throw new Error("Pas de connexion r\xe9seau");const c=await t.json();s(c)}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;f("Impossible de charger les POI. Veuillez r\xe9essayer plus tard.")}}})(),()=>{e.abort()}}),[]);const[e,s]=(0,a.useState)([]),[t,c]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[g,u]=(0,a.useState)(null),[p,j]=(0,a.useState)(null),[k,b]=(0,a.useState)(!1),[w,N]=(0,a.useState)(!1),[v,f]=(0,a.useState)(null),C=(0,a.useCallback)(((e,s,n,a,i)=>{c(n),m(s),u(e),d(a),i&&j(i),b(n!==t||(e=>!e))}),[t]),y=(0,a.useCallback)((()=>{c(null),j(null),b(!1),d(null),m(null),u(null)}),[]),I=(0,a.useCallback)((()=>b(!1)),[]),[P,S]=a.useState(!0),F=()=>{S(!P)},[O,E]=a.useState(!0),A=()=>{E(!O)},[M,z]=a.useState(!0),G=()=>{z(!M)},[T,R]=a.useState(!0),H=()=>{R(!T)},[D,_]=a.useState(!0),B=()=>{_(!D)},[q,U]=a.useState(!0),V=()=>{U(!q)},[Z,J]=a.useState(!0),L=()=>{J(!Z)};return(0,o.jsx)(i.c4,{apiKey:"AIzaSyD0RVToXOJHikSdcRslGi2b2fx0UTZFtG0",libraries:["marker"],children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"backgroundMap",style:{overflow:"hidden"},children:[(0,o.jsx)("div",{className:"btn-group BurgerSituationMap","data-toggle":"buttons-checkbox",children:(0,o.jsx)("button",{type:"button",className:"BurgerProg btn btn-default ",onClick:()=>{N(!w)},children:(0,o.jsx)("img",{src:"".concat("","/assets/parametres-curseurs.png"),alt:"burger"})})}),(0,o.jsxs)("div",{className:"Gmap",children:[(0,o.jsxs)("div",{className:"  ".concat(w?"d-block":"d-none"," "),children:[(0,o.jsx)("div",{className:"d-none d-lg-block",children:(0,o.jsxs)("div",{className:"ico",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:F}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:O,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"}),(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:G}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:T,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"}),(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:B}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:V}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:Z,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})}),(0,o.jsx)("div",{className:"d-block d-lg-none",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:F}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:O,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:G}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:T,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:B}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:V}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:Z,onChange:L}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})]})})]}),v&&(0,o.jsx)("div",{style:{color:"red",textAlign:"center",margin:"1em"},children:v}),(0,o.jsxs)(i.T5,{mapId:"d17a67bf932afd78",maxZoom:20,minZoom:10,defaultZoom:15.477,defaultCenter:{lat:48.64627130950389,lng:1.8125529133067797},gestureHandling:"auto",onClick:y,clickableIcons:!1,disableDefaultUI:!0,children:[e.map((e=>{let{id:s,latitude:t,longitude:c,type:n,zIndex:l,details:r,name:d}=e;return"scene"===n&&P?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:45,height:45,alt:"scene"})})}):"bar"===n&&O?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:40,height:40,alt:"bar"})})}):"parking"===n&&M?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:30,height:30,alt:"parking"})})}):"door"===n&&T?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:30,height:30,alt:"exit"})})}):"shop"===n&&D?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:30,height:30,alt:"shop"})})}):"wc"===n&&q?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:30,height:30,alt:"wc"})})}):"camping"===n&&Z?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,n,e),position:{lat:parseFloat(t),lng:parseFloat(c)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:30,height:30,alt:"wc"})})}):null})),k&&p&&"scene"===n&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Programmation",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"Voir le programme"})})]}),k&&p&&("camping"===n||"parking"===n||"door"===n)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Informations",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"\u2039\u2039Infos\u203a\u203a"})})]}),k&&p&&("bar"===n||"wc"===n||"shop"===n)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x})]})]})]})]})})})}},8382:(e,s,t)=>{t.d(s,{A:()=>n});var c=t(579);const n=function(){return(0,c.jsx)("div",{className:"scroll-to-top-button ",children:(0,c.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,c.jsx)("div",{className:"HautDePage",children:(0,c.jsx)("img",{src:"".concat("","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache"})}),(0,c.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}}}]);
//# sourceMappingURL=284.4e4fce60.chunk.js.map