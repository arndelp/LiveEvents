"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[809],{8382:(e,s,l)=>{l.d(s,{A:()=>t});var a=l(579);const t=function(){return(0,a.jsx)("div",{className:"scroll-to-top-button ",children:(0,a.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,a.jsx)("div",{className:"HautDePage",children:(0,a.jsx)("img",{src:"".concat("","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache",width:32,height:32})}),(0,a.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}},9809:(e,s,l)=>{l.r(s),l.d(s,{default:()=>x});var a=l(5043),t=l(8914),c=l(579);function r(){const[e,s]=(0,a.useState)([]),[l,r]=(0,a.useState)(null),{customer:i,isAuthenticated:n}=(0,a.useContext)(t.c);(0,a.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const l=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!l.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const a=await l.json();s(a)}catch(l){if("AbortError"===l.name)return;r("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const d=e.filter((e=>n()?e.style===((null===i||void 0===i?void 0:i.style)||"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule):"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule)).map((e=>(0,c.jsx)("li",{className:"listCard mt-2",children:(0,c.jsx)("div",{className:"card cardh",children:(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsx)("div",{className:"col-md-4 ",children:(0,c.jsx)("img",{src:e.fullImageUrl,width:"100",height:"56",className:"img-fluid rounded",alt:e.name,fetchPriority:"high",loading:"eager",decoding:"async",style:{aspectRatio:"16 / 9",objectFit:"cover",display:"block",backgroundColor:"var(--gris)"}})}),(0,c.jsx)("div",{className:"col-md-8 ",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h1",{className:"card-title",children:e.name}),(0,c.jsx)("p",{className:"card-text",children:e.schedule}),(0,c.jsx)("p",{className:"card-text",children:(0,c.jsx)("small",{className:"text-body-secondary ",children:e.location})})]})})]})})},e.id)));return(0,c.jsx)("div",{className:"row  g-0 ",children:(0,c.jsxs)("div",{className:"pb-0 mt-8 ","data-testid":"concertHome",children:[l&&(0,c.jsx)("p",{style:{color:"red"},children:l}),0===e.length?(0,c.jsx)("ul",{className:"concertList",children:[...Array(3)].map(((e,s)=>(0,c.jsx)("li",{className:"listCard mt-2",children:(0,c.jsx)("div",{className:"card cardh skeleton-card",children:(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsx)("div",{className:"col-md-4",children:(0,c.jsx)("div",{className:"skeleton-img"})}),(0,c.jsx)("div",{className:"col-md-8",children:(0,c.jsxs)("div",{className:"skeleton-text",children:[(0,c.jsx)("div",{className:"skeleton-line title"}),(0,c.jsx)("div",{className:"skeleton-line"}),(0,c.jsx)("div",{className:"skeleton-line short"})]})})]})})},s)))}):(0,c.jsx)("ul",{className:"concertList",children:d})]})})}var i=l(7070);function n(){const[e,s]=(0,a.useState)([]),[l,t]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=new AbortController;(async()=>{try{const l=await fetch("".concat("https://concertslives.store","/api/alerts"),{signal:e.signal}),a=await l.json();s(a)}catch(l){"AbortError"===l.name?console.error("Requ\xeate des datas d'Alert annul\xe9e"):console.error("Erreur lors de la requ\xeate Alert:",l)}})(),t(!0)}),[]);const r=e.map((e=>(0,c.jsx)("div",{className:"h-20 sm:h-20 xl:h-20 2xl:h-20",children:(0,c.jsxs)(i.FN,{slide:!1,children:[(0,c.jsx)("div",{className:"flex h-full items-top justify-center bg-red-600 dark:bg-gray-700 dark:text-white text-yellow-200 text-2xl animate-pulse",children:e.message1}),(0,c.jsx)("div",{className:"flex h-full items-top justify-center bg-amber-400 dark:bg-gray-700 dark:text-white text-red-600 text-2xl animate-pulse",children:e.message2})]})})));if(l)return(0,c.jsx)(c.Fragment,{children:r})}var d=l(5475),o=l(3538),h=l(8382);const m=(0,a.lazy)((()=>Promise.all([l.e(881),l.e(492)]).then(l.bind(l,6492))));const x=function(){const{customer:e,isAuthenticated:s}=(0,a.useContext)(t.c);function l(){return(0,c.jsx)("div",{className:"row mb-20 mt-20",children:(0,c.jsx)("div",{className:"boutonBilletHome ",children:(0,c.jsx)(d.N_,{to:"/Billetterie",children:(0,c.jsxs)(i.$n,{size:"xl",gradientDuoTone:"redToYellow",children:[(0,c.jsx)(o.I7w,{className:"mr-2 h-10 w-10"}),"Billetterie"]})})})})}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"background ",style:{overflow:"hidden"},children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)(n,{})}),(0,c.jsx)("div",{className:"row",children:s()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h1",{className:"titleUser pt-3",children:["Bonjour ",(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}),(0,c.jsx)("h2",{children:" les concerts suivants devraient vous convenir:"})]}):(0,c.jsx)("h1",{className:"title pt-3",children:"NATION SOUNDS"})}),(0,c.jsx)(d.N_,{to:"/Programmation",children:(0,c.jsx)("div",{className:"ConcertHomePage ",width:100,height:300,children:(0,c.jsx)(r,{})})}),(0,c.jsx)(l,{}),(0,c.jsx)(d.N_,{to:"/Plan",children:(0,c.jsxs)(a.Suspense,{fallback:(0,c.jsx)("div",{className:"loading-map",children:"Chargement de la carte..."}),children:[(0,c.jsx)("div",{className:"d-none d-lg-block GmapMini  col-8 offset-2  ",children:(0,c.jsx)(m,{})}),(0,c.jsx)("div",{className:"d-block d-lg-none GmapMiniSmall  col-10 offset-1  ",children:(0,c.jsx)(m,{})})]})})]}),(0,c.jsx)("div",{className:"marginMap",children:(0,c.jsx)(h.A,{})})]})}}}]);
//# sourceMappingURL=809.16a57278.chunk.js.map