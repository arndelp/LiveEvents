"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[809],{6492:(e,s,t)=>{t.d(s,{Ay:()=>x});var n=t(7051),a=t(3986),c=t(5043),i=t(5899),l=t(5475),r=t(8155),o=t(579);const h=["children","onMarkerClick"],d=e=>{const{children:s,onMarkerClick:t}=e,c=(0,a.A)(e,h),[l,r]=(0,i.vH)();return(0,o.jsx)(i.J8,(0,n.A)((0,n.A)({onClick:()=>{r&&t(r)},ref:l},c),{},{children:s}))},x=()=>{(0,c.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/markers"),{signal:e.signal});if(!t.ok)throw new Error("Pas de connexion r\xe9seau");const n=await t.json();s(n)}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;w("Impossible de charger les POI. Veuillez r\xe9essayer plus tard.")}}})(),()=>{e.abort()}}),[]);const[e,s]=(0,c.useState)([]),[t,n]=(0,c.useState)(null),[a,h]=(0,c.useState)(null),[x,m]=(0,c.useState)(null),[g,u]=(0,c.useState)(null),[p,j]=(0,c.useState)(null),[k,b]=(0,c.useState)(!1),[N,v]=(0,c.useState)(!1),[f,w]=(0,c.useState)(null),C=(0,c.useCallback)(((e,s,a,c,i)=>{n(a),m(s),u(e),h(c),i&&j(i),b(a!==t||(e=>!e))}),[t]),y=(0,c.useCallback)((()=>{n(null),j(null),b(!1),h(null),m(null),u(null)}),[]),I=(0,c.useCallback)((()=>b(!1)),[]),[P,F]=c.useState(!0),O=()=>{F(!P)},[S,E]=c.useState(!0),A=()=>{E(!S)},[M,G]=c.useState(!0),T=()=>{G(!M)},[z,R]=c.useState(!0),H=()=>{R(!z)},[D,B]=c.useState(!0),_=()=>{B(!D)},[q,U]=c.useState(!0),V=()=>{U(!q)},[Z,L]=c.useState(!0),J=()=>{L(!Z)};return(0,o.jsx)(i.c4,{apiKey:"AIzaSyD0RVToXOJHikSdcRslGi2b2fx0UTZFtG0",libraries:["marker"],children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"backgroundMap",style:{overflow:"hidden"},children:[(0,o.jsx)("div",{className:"btn-group BurgerSituationMap","data-toggle":"buttons-checkbox",children:(0,o.jsx)("button",{type:"button",className:"BurgerProg btn btn-default ",onClick:()=>{v(!N)},children:(0,o.jsx)("img",{src:"".concat("","/assets/parametres-curseurs.png"),alt:"burger"})})}),(0,o.jsxs)("div",{className:"Gmap",children:[(0,o.jsxs)("div",{className:"  ".concat(N?"d-block":"d-none"," "),children:[(0,o.jsx)("div",{className:"d-none d-lg-block",children:(0,o.jsxs)("div",{className:"ico",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:O}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:S,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"}),(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:z,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"}),(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:V}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:Z,onChange:J}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})}),(0,o.jsx)("div",{className:"d-block d-lg-none",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:P,onChange:O}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:S,onChange:A}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:M,onChange:T}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:z,onChange:H}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:D,onChange:_}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:q,onChange:V}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:Z,onChange:J}),(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})]})})]}),f&&(0,o.jsx)("div",{style:{color:"red",textAlign:"center",margin:"1em"},children:f}),(0,o.jsxs)(i.T5,{mapId:"d17a67bf932afd78",maxZoom:20,minZoom:10,defaultZoom:15.477,defaultCenter:{lat:48.64627130950389,lng:1.8125529133067797},gestureHandling:"auto",onClick:y,clickableIcons:!1,disableDefaultUI:!0,children:[e.map((e=>{let{id:s,latitude:t,longitude:n,type:a,zIndex:l,details:r,name:h}=e;return"scene"===a&&P?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/scene.png"),width:45,height:45,alt:"scene"})})}):"bar"===a&&S?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/cocktail2.png"),width:40,height:40,alt:"bar"})})}):"parking"===a&&M?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/parking.png"),width:30,height:30,alt:"parking"})})}):"door"===a&&z?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/entrer.png"),width:30,height:30,alt:"exit"})})}):"shop"===a&&D?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/boutique.png"),width:30,height:30,alt:"shop"})})}):"wc"===a&&q?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/toilettes.png"),width:30,height:30,alt:"wc"})})}):"camping"===a&&Z?(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(d,{onMarkerClick:e=>C(h,r,s,a,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("","/assets/POI/camping.png"),width:30,height:30,alt:"wc"})})}):null})),k&&p&&"scene"===a&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Programmation",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"Voir le programme"})})]}),k&&p&&("camping"===a||"parking"===a||"door"===a)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/Informations",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"\u2039\u2039Infos\u203a\u203a"})})]}),k&&p&&("bar"===a||"wc"===a||"shop"===a)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:I,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x})]})]})]})]})})})}},8382:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(579);const a=function(){return(0,n.jsx)("div",{className:"scroll-to-top-button ",children:(0,n.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,n.jsx)("div",{className:"HautDePage",children:(0,n.jsx)("img",{src:"".concat("","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache",width:32,height:32})}),(0,n.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}},9809:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(5043),a=t(8914),c=t(579);function i(){const[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)(null),{customer:l,isAuthenticated:r}=(0,n.useContext)(a.c);(0,n.useEffect)((()=>{const e=new AbortController,t=document.getElementById("preload-hero");t&&t.remove();return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!t.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const n=await t.json();s(n)}catch(t){if("AbortError"===t.name)return;i("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const o=e.filter((e=>r()?e.style===((null===l||void 0===l?void 0:l.style)||"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule):"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule)).map((e=>(0,c.jsx)("li",{className:"listCard mt-2",children:(0,c.jsx)("div",{className:"card cardh",children:(0,c.jsxs)("div",{className:"row g-0",children:[(0,c.jsx)("div",{className:"col-md-4 ",children:(0,c.jsx)("img",{src:e.fullImageUrl,width:200,height:200,className:"img-fluid rounded",alt:e.name,fetchPriority:"high",loading:"eager",decoding:"async"})}),(0,c.jsx)("div",{className:"col-md-8 ",children:(0,c.jsxs)("div",{className:"card-body",children:[(0,c.jsx)("h1",{className:"card-title",children:e.name}),(0,c.jsx)("p",{className:"card-text",children:e.schedule}),(0,c.jsx)("p",{className:"card-text",children:(0,c.jsx)("small",{className:"text-body-secondary ",children:e.location})})]})})]})})},e.id)));return(0,c.jsx)("div",{className:"row  g-0 ",children:(0,c.jsxs)("div",{className:"pb-0 mt-8 ","data-testid":"concertHome",children:[t&&(0,c.jsx)("p",{style:{color:"red"},children:t}),(0,c.jsx)("ul",{className:"concertList",children:o})]})})}var l=t(6492),r=t(7070);function o(){const[e,s]=(0,n.useState)([]),[t,a]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=new AbortController;(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/alerts"),{signal:e.signal}),n=await t.json();s(n)}catch(t){"AbortError"===t.name?console.error("Requ\xeate des datas d'Alert annul\xe9e"):console.error("Erreur lors de la requ\xeate Alert:",t)}})(),a(!0)}),[]);const i=e.map((e=>(0,c.jsx)("div",{className:"h-20 sm:h-20 xl:h-20 2xl:h-20",children:(0,c.jsxs)(r.FN,{slide:!1,children:[(0,c.jsx)("div",{className:"flex h-full items-top justify-center bg-red-600 dark:bg-gray-700 dark:text-white text-yellow-200 text-2xl animate-pulse",children:e.message1}),(0,c.jsx)("div",{className:"flex h-full items-top justify-center bg-amber-400 dark:bg-gray-700 dark:text-white text-red-600 text-2xl animate-pulse",children:e.message2})]})})));if(t)return(0,c.jsx)(c.Fragment,{children:i})}var h=t(5475),d=t(3538),x=t(8382);const m=function(){const{customer:e,isAuthenticated:s}=(0,n.useContext)(a.c);function t(){return(0,c.jsx)("div",{className:"row mb-20 mt-20",children:(0,c.jsx)("div",{className:"boutonBilletHome ",children:(0,c.jsx)(h.N_,{to:"/Billetterie",children:(0,c.jsxs)(r.$n,{size:"xl",gradientDuoTone:"redToYellow",children:[(0,c.jsx)(d.I7w,{className:"mr-2 h-10 w-10"}),"Billetterie"]})})})})}return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"background ",style:{overflow:"hidden"},children:[(0,c.jsx)("div",{className:"row",children:(0,c.jsx)(o,{})}),(0,c.jsx)("div",{className:"row",children:s()?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("h1",{className:"titleUser pt-3",children:["Bonjour ",(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}),(0,c.jsx)("h2",{children:" les concerts suivants devraient vous convenir:"})]}):(0,c.jsx)("h1",{className:"title pt-3",children:"NATION SOUNDS"})}),(0,c.jsx)(h.N_,{to:"/Programmation",children:(0,c.jsx)("div",{className:"ConcertHomePage ",children:(0,c.jsx)(i,{})})}),(0,c.jsx)(t,{}),(0,c.jsxs)(h.N_,{to:"/Plan",children:[(0,c.jsx)("div",{className:"d-none d-lg-block GmapMini  col-8 offset-2  ",children:(0,c.jsx)(l.Ay,{})}),(0,c.jsx)("div",{className:"d-block d-lg-none GmapMiniSmall  col-10 offset-1  ",children:(0,c.jsx)(l.Ay,{})})]})]}),(0,c.jsx)("div",{className:"marginMap",children:(0,c.jsx)(x.A,{})})]})}}}]);
//# sourceMappingURL=809.d413fca1.chunk.js.map