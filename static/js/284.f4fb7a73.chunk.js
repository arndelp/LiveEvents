"use strict";(self.webpackChunklive_events=self.webpackChunklive_events||[]).push([[284],{5284:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var n=t(5043),c=t(8914);var a=t(579);function i(){const[e,s]=(0,n.useState)([]),[t,i]=(0,n.useState)(null),{customer:l,isAuthenticated:r}=(0,n.useContext)(c.c);(0,n.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/concerts"),{signal:e.signal});if(!t.ok)throw new Error("Pas de r\xe9ponse r\xe9seau");const n=await t.json();s(n)}catch(t){if("AbortError"===t.name)return;i("Impossible de charger la liste des concerts. Veuillez r\xe9essayer plus tard.")}})(),()=>{e.abort()}}),[]);const o=e.filter((e=>r()?e.style===((null===l||void 0===l?void 0:l.style)||"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule):"09/07/2027"===e.day&&"18:00 - 19:00"===e.schedule)).map((e=>{const{src:s,srcSet:t,sizes:n}=function(e){const s=e.includes("?")?"".concat(e,"&w=400"):"".concat(e,"?w=400"),t=e.includes("?")?"".concat(e,"&w=800"):"".concat(e,"?w=800"),n=e.includes("?")?"".concat(e,"&w=1600"):"".concat(e,"?w=1600");return{src:t,srcSet:"".concat(s," 400w, ").concat(t," 800w, ").concat(n," 1600w"),sizes:"(max-width: 600px) 100vw, 50vw"}}(e.fullImageUrl);return(0,a.jsx)("li",{className:"listCard mt-2",children:(0,a.jsx)("div",{className:"card cardh",children:(0,a.jsxs)("div",{className:"row g-0",children:[(0,a.jsx)("div",{className:"col-md-4 ",children:(0,a.jsx)("img",{src:s,srcSet:t,sizes:n,className:"img-fluid rounded",alt:e.name,loading:"lazy"})}),(0,a.jsx)("div",{className:"col-md-8 ",children:(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("h5",{className:"card-title",children:e.name}),(0,a.jsx)("p",{className:"card-text pb-2",children:e.schedule}),(0,a.jsx)("p",{className:"card-text",children:(0,a.jsx)("small",{className:"text-body-secondary ",children:e.location})})]})})]})})},e.id)}));return(0,a.jsx)("div",{className:"row  g-0 ",children:(0,a.jsxs)("div",{className:"pb-0 mt-8 ","data-testid":"concertHome",children:[t&&(0,a.jsx)("p",{style:{color:"red"},children:t}),(0,a.jsx)("ul",{children:o})]})})}var l=t(6492),r=t(7070);function o(){const[e,s]=(0,n.useState)([]),[t,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=new AbortController;(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/alerts"),{signal:e.signal}),n=await t.json();s(n)}catch(t){"AbortError"===t.name?console.error("Requ\xeate des datas d'Alert annul\xe9e"):console.error("Erreur lors de la requ\xeate Alert:",t)}})(),c(!0)}),[]);const i=e.map((e=>(0,a.jsx)("div",{className:"h-20 sm:h-20 xl:h-20 2xl:h-20",children:(0,a.jsxs)(r.FN,{slide:!1,children:[(0,a.jsx)("div",{className:"flex h-full items-top justify-center bg-red-600 dark:bg-gray-700 dark:text-white text-yellow-200 text-2xl animate-pulse",children:e.message1}),(0,a.jsx)("div",{className:"flex h-full items-top justify-center bg-amber-400 dark:bg-gray-700 dark:text-white text-red-600 text-2xl animate-pulse",children:e.message2})]})})));if(t)return(0,a.jsx)(a.Fragment,{children:i})}var d=t(5475),h=t(3538),x=t(8382);const m=function(){const{customer:e,isAuthenticated:s}=(0,n.useContext)(c.c);function t(){return(0,a.jsx)("div",{className:"row mb-20 mt-20",children:(0,a.jsx)("div",{className:"boutonBilletHome ",children:(0,a.jsx)(d.N_,{to:"/LiveEvents/Billetterie",children:(0,a.jsxs)(r.$n,{size:"xl",gradientDuoTone:"redToYellow",children:[(0,a.jsx)(h.I7w,{className:"mr-2 h-10 w-10"}),"Billetterie"]})})})})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"background ",style:{overflow:"hidden"},children:[(0,a.jsx)("div",{className:"row",children:(0,a.jsx)(o,{})}),(0,a.jsx)("div",{className:"row",children:s()?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("h1",{className:"titleUser pt-3",children:["Bonjour ",(null===e||void 0===e?void 0:e.firstname)||""," ",(null===e||void 0===e?void 0:e.lastname)||""]}),(0,a.jsx)("h2",{children:" les concerts suivants devraient vous convenir:"})]}):(0,a.jsx)("h1",{className:"title pt-3",children:"NATION SOUNDS"})}),(0,a.jsx)(d.N_,{to:"/LiveEvents/Programmation",children:(0,a.jsx)("div",{className:"ConcertHomePage ",children:(0,a.jsx)(i,{})})}),(0,a.jsx)(t,{}),(0,a.jsxs)(d.N_,{to:"/LiveEvents/Plan",children:[(0,a.jsx)("div",{className:"d-none d-lg-block GmapMini  col-8 offset-2  ",children:(0,a.jsx)(l.Ay,{})}),(0,a.jsx)("div",{className:"d-block d-lg-none GmapMiniSmall  col-10 offset-1  ",children:(0,a.jsx)(l.Ay,{})})]})]}),(0,a.jsx)("div",{className:"marginMap",children:(0,a.jsx)(x.A,{})})]})}},6492:(e,s,t)=>{t.d(s,{Ay:()=>x});var n=t(7051),c=t(3986),a=t(5043),i=t(5899),l=t(5475),r=t(8155),o=t(579);const d=["children","onMarkerClick"],h=e=>{const{children:s,onMarkerClick:t}=e,a=(0,c.A)(e,d),[l,r]=(0,i.vH)();return(0,o.jsx)(i.J8,(0,n.A)((0,n.A)({onClick:()=>{r&&t(r)},ref:l},a),{},{children:s}))},x=()=>{(0,a.useEffect)((()=>{const e=new AbortController;return(async()=>{try{const t=await fetch("".concat("https://concertslives.store","/api/markers"),{signal:e.signal});if(!t.ok)throw new Error("Pas de connexion r\xe9seau");const n=await t.json();s(n)}catch(t){if(t instanceof Error){if("AbortError"===t.name)return;f("Impossible de charger les POI. Veuillez r\xe9essayer plus tard.")}}})(),()=>{e.abort()}}),[]);const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[x,m]=(0,a.useState)(null),[g,u]=(0,a.useState)(null),[p,j]=(0,a.useState)(null),[v,k]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[N,f]=(0,a.useState)(null),C=(0,a.useCallback)(((e,s,c,a,i)=>{n(c),m(s),u(e),d(a),i&&j(i),k(c!==t||(e=>!e))}),[t]),E=(0,a.useCallback)((()=>{n(null),j(null),k(!1),d(null),m(null),u(null)}),[]),y=(0,a.useCallback)((()=>k(!1)),[]),[I,P]=a.useState(!0),S=()=>{P(!I)},[F,L]=a.useState(!0),O=()=>{L(!F)},[A,M]=a.useState(!0),z=()=>{M(!A)},[G,T]=a.useState(!0),R=()=>{T(!G)},[H,D]=a.useState(!0),_=()=>{D(!H)},[B,q]=a.useState(!0),U=()=>{q(!B)},[V,Z]=a.useState(!0),J=()=>{Z(!V)};return(0,o.jsx)(i.c4,{apiKey:"AIzaSyD0RVToXOJHikSdcRslGi2b2fx0UTZFtG0",libraries:["marker"],children:(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"backgroundMap",style:{overflow:"hidden"},children:[(0,o.jsx)("div",{className:"btn-group BurgerSituationMap","data-toggle":"buttons-checkbox",children:(0,o.jsx)("button",{type:"button",className:"BurgerProg btn btn-default ",onClick:()=>{w(!b)},children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/parametres-curseurs.png"),alt:"burger"})})}),(0,o.jsxs)("div",{className:"Gmap",children:[(0,o.jsxs)("div",{className:"  ".concat(b?"d-block":"d-none"," "),children:[(0,o.jsx)("div",{className:"d-none d-lg-block",children:(0,o.jsxs)("div",{className:"ico",children:[(0,o.jsx)("input",{type:"checkbox",checked:I,onChange:S}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:F,onChange:O}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"}),(0,o.jsx)("input",{type:"checkbox",checked:A,onChange:z}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:G,onChange:R}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"}),(0,o.jsx)("input",{type:"checkbox",checked:H,onChange:_}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:B,onChange:U}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:V,onChange:J}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})}),(0,o.jsx)("div",{className:"d-block d-lg-none",children:(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:I,onChange:S}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/scene.png"),width:"35em",height:"35em",alt:"Sc\xe8ne"}),(0,o.jsx)("input",{type:"checkbox",checked:F,onChange:O}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/cocktail2.png"),width:"35em",height:"35em",alt:"bar"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:A,onChange:z}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/parking.png"),width:"35em",height:"35em",alt:"parking"}),(0,o.jsx)("input",{type:"checkbox",checked:G,onChange:R}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/entrer.png"),width:"35em",height:"35em",alt:"exit"})]}),(0,o.jsxs)("div",{className:"icoMobile",children:[(0,o.jsx)("input",{type:"checkbox",checked:H,onChange:_}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/boutique.png"),width:"35em",height:"35em",alt:"shop"}),(0,o.jsx)("input",{type:"checkbox",checked:B,onChange:U}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/toilettes.png"),width:"35em",height:"35em",alt:"wc"}),(0,o.jsx)("input",{type:"checkbox",checked:V,onChange:J}),(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/camping.png"),width:"35em",height:"35em",alt:"camping"})]})]})})]}),N&&(0,o.jsx)("div",{style:{color:"red",textAlign:"center",margin:"1em"},children:N}),(0,o.jsxs)(i.T5,{mapId:"d17a67bf932afd78",maxZoom:20,minZoom:10,defaultZoom:15.477,defaultCenter:{lat:48.64627130950389,lng:1.8125529133067797},gestureHandling:"auto",onClick:E,clickableIcons:!1,disableDefaultUI:!0,children:[e.map((e=>{let{id:s,latitude:t,longitude:n,type:c,zIndex:l,details:r,name:d}=e;return"scene"===c&&I?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/scene.png"),width:45,height:45,alt:"scene"})})}):"bar"===c&&F?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/cocktail2.png"),width:40,height:40,alt:"bar"})})}):"parking"===c&&A?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/parking.png"),width:30,height:30,alt:"parking"})})}):"door"===c&&G?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/entrer.png"),width:30,height:30,alt:"exit"})})}):"shop"===c&&H?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/boutique.png"),width:30,height:30,alt:"shop"})})}):"wc"===c&&B?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/toilettes.png"),width:30,height:30,alt:"wc"})})}):"camping"===c&&V?(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(h,{onMarkerClick:e=>C(d,r,s,c,e),position:{lat:parseFloat(t),lng:parseFloat(n)},anchorPoint:i.GN.CENTER,zIndex:l,children:(0,o.jsx)("img",{src:"".concat("/LiveEvents","/assets/POI/camping.png"),width:30,height:30,alt:"wc"})})}):null})),v&&p&&"scene"===c&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/LiveEvents/Programmation",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"Voir le programme"})})]}),v&&p&&("camping"===c||"parking"===c||"door"===c)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x}),(0,o.jsx)(l.N_,{to:"/LiveEvents/Informations",children:(0,o.jsx)(r.A,{className:"checkRGPDLink",variant:"link",children:"\u2039\u2039Infos\u203a\u203a"})})]}),v&&p&&("bar"===c||"wc"===c||"shop"===c)&&(0,o.jsxs)(i.Fu,{anchor:p,pixelOffset:[0,0],onCloseClick:y,children:[(0,o.jsx)("h4",{children:g}),(0,o.jsx)("p",{children:x})]})]})]})]})})})}},8382:(e,s,t)=>{t.d(s,{A:()=>c});var n=t(579);const c=function(){return(0,n.jsx)("div",{className:"scroll-to-top-button ",children:(0,n.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},children:[(0,n.jsx)("div",{className:"HautDePage",children:(0,n.jsx)("img",{src:"".concat("/LiveEvents","/assets/fleches-vers-le-haut.png"),id:"fleche",alt:"fl\xeache"})}),(0,n.jsx)("p",{className:"HautDePage",children:"Haut de page"})]})})}}}]);
//# sourceMappingURL=284.f4fb7a73.chunk.js.map